@startuml MEMSIM
class Memory {
    - byte[] main_memory
    - int next_allocation_index
    - Segment[] memory_layout
    - int memory_size

    + Memory(size: int)
    + swap_in(program: Program): void
    + swap_out(layout_index: int): void
    + get_bytes(): byte[]
    + get_memory_layout(): Segment
    + shrink(): void
}

class Segment {
    - string type
    - int index
    - int size
}

class SafeList <<utility>> {
    + __getitem__(index: int) : Any
}

class Program {
    - byte[] bytes

    + Program(bytes: byte[])
    + stream(): byte[]
}

SafeList --|> list
Memory --> Program : uses
Memory --> SafeList : uses
Memory --> Segment : contains
@enduml